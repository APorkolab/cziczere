<div class="insight-container" *ngIf="insight || isLoading || error">
  <div *ngIf="isLoading" class="loading-spinner">
    <p>Your Gardener's Assistant is reflecting...</p>
    <div class="spinner"></div>
  </div>

  <div *ngIf="error" class="error-message">
    <p>{{ error }}</p>
  </div>

  <div *ngIf="insight && !isLoading" class="insight-content fade-in">
    <p class="quote">â€œ</p>
    <p class="insight-text">{{ insight.text }}</p>
    <div class="insight-footer">
      <p class="timestamp">{{ insight.timestamp | date:'medium' }}</p>
      <button
        class="listen-button"
        (click)="playInsightAudio(insight.id)"
        [disabled]="(isAudioLoading$ | async) === true">
        <ng-container *ngIf="!(isAudioLoading$ | async); else audioLoading">
          Listen ğŸ”Š
        </ng-container>
        <ng-template #audioLoading>
          <div class="spinner-small"></div>
        </ng-template>
      </button>
    </div>
  </div>
</div>
